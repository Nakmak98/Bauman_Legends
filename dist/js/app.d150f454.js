(function(e){function t(t){for(var o,s,i=t[0],u=t[1],l=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);c&&c(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/account"}},[e._v("Account")])],1),n("router-view")],1)},a=[],s={name:"app",data:function(){return{test:""}}},i=s,u=(n("5c0b"),n("2877")),l=Object(u["a"])(i,r,a,!1,null,null,null),c=l.exports,d=n("8c4f"),p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("img",{attrs:{alt:"Vue logo",src:n("cf05")},on:{click:function(t){return e.$emit("hi")}}}),e._v("\n    "+e._s(e.info)+"\n")])},v=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.validationMessage?n("div",[e._v(e._s(e.validationMessage))]):e._e(),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.login,expression:"request_body.login"}],attrs:{type:"text",placeholder:"Логин"},domProps:{value:e.request_body.login},on:{input:function(t){t.target.composing||e.$set(e.request_body,"login",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.password,expression:"request_body.password"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:e.request_body.password},on:{input:function(t){t.target.composing||e.$set(e.request_body,"password",t.target.value)}}})]),n("button",{on:{click:e.signIn}},[e._v("Войти")])])},f=[],_=n("bc3a"),g=n.n(_),b={name:"SignIn",data:function(){return{request_body:{login:"",password:""},validationMessage:""}},methods:{signIn:function(){var e=this;h(this)&&g.a.post("/user/sign_in",this.request_body).then(function(t){console.log(t.headers),console.log(t.data),e.$store.commit("setUserData",t.data),e.$router.push("/account")}).catch(function(t){e.validationMessage="Поля заполнены неверно, пожалуйста заполните их соответсвенно подсказкам(которых пока нет)"})}}};function h(e){for(var t in e.request_body)if(""===e.request_body[t])return e.validationMessage="Заполните все поля формы",!1;return/[а-я]/g.test(e.request_body.login)?(e.validationMessage="Поля не должны содержать кириллицу",!1):(e.validationMessage="",!0)}var y=b,w=Object(u["a"])(y,m,f,!1,null,"6ada849a",null),q=w.exports,x={name:"home",components:{SignIn:q},data:function(){return{info:"hi"}}},$=x,k=Object(u["a"])($,p,v,!1,null,null,null),M=k.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth"},[n("button",{on:{click:function(t){return e.$router.push("/sign_in")}}},[e._v("Войти")]),n("button",{on:{click:function(t){return e.$router.push("/sign_up")}}},[e._v("Зарегистрироваться")]),n("router-view")],1)},P=[],j={name:"Auth"},U=j,N=Object(u["a"])(U,O,P,!1,null,"1f98a196",null),D=N.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"})},E=[],C={name:"account",data:function(){return{type:"text",name:"",value:"",placeholder:"",required:!0}},beforeCreate:function(){var e=this;this.$router.push("/auth"),this.$store.getters.checkUserData||g.a.get("/user/info").then(function(t){e.$store.commit("setUserData",t.data)})}},I=C,T=Object(u["a"])(I,S,E,!1,null,null,null),A=T.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.validationMessage?n("div",[e._v(e._s(e.validationMessage))]):e._e(),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.first_name,expression:"request_body.first_name"}],attrs:{type:"text",placeholder:"Имя"},domProps:{value:e.request_body.first_name},on:{input:function(t){t.target.composing||e.$set(e.request_body,"first_name",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.last_name,expression:"request_body.last_name"}],attrs:{type:"text",placeholder:"Фамилия"},domProps:{value:e.request_body.last_name},on:{input:function(t){t.target.composing||e.$set(e.request_body,"last_name",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.group,expression:"request_body.group"}],attrs:{type:"text",placeholder:"Группа"},domProps:{value:e.request_body.group},on:{input:function(t){t.target.composing||e.$set(e.request_body,"group",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.login,expression:"request_body.login"}],attrs:{type:"text",placeholder:"Логин"},domProps:{value:e.request_body.login},on:{input:function(t){t.target.composing||e.$set(e.request_body,"login",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.vk_ref,expression:"request_body.vk_ref"}],attrs:{type:"text",placeholder:"vk.сom/id"},domProps:{value:e.request_body.vk_ref},on:{input:function(t){t.target.composing||e.$set(e.request_body,"vk_ref",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.request_body.password,expression:"request_body.password"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:e.request_body.password},on:{input:function(t){t.target.composing||e.$set(e.request_body,"password",t.target.value)}}})]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm_password,expression:"confirm_password"}],attrs:{type:"password",placeholder:"Подтверждение пароля"},domProps:{value:e.confirm_password},on:{input:function(t){t.target.composing||(e.confirm_password=t.target.value)}}})]),n("div",[n("button",{on:{click:e.signUp}},[e._v("Войти")])])])},H=[],L={name:"signUp",data:function(){return{request_body:{first_name:"",last_name:"",login:"",password:"",group:"",vk_ref:"vk.com/"},confirm_password:"",validationMessage:""}},methods:{signUp:function(){var e=this;R(this)&&(this.validationMessage="",g.a.post("/user/sign_up",this.request_body).then(function(t){console.log(t.data),console.log(t.status),e.$store.commit("setUserData",t.data),e.$router.push("/account")}).catch(function(t){console.log(t),e.validationMessage="Поля заполнены неверно, пожалуйста заполните их соответсвенно подсказкам(которых пока нет)"}))}}};function R(e){for(var t in e.request_body)if(""===e.request_body[t])return e.validationMessage="Заполните все поля формы",!1;return e.request_body.password===e.confirm_password||(e.validationMessage="Пароли не совпадают!",e.valid)}var V=L,z=Object(u["a"])(V,J,H,!1,null,"c620765a",null),B=z.exports;o["a"].use(d["a"]);var F=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:M},{path:"/account",name:"account",component:A},{path:"/auth",name:"auth",component:D},{path:"/sign_in",name:"sign_in",component:q},{path:"/sign_up",name:"sign_up",component:B}]}),G=n("2f62");o["a"].use(G["a"]);var K=new G["a"].Store({state:{user:{}},mutations:{setUserData:function(e,t){e.user=t}},getters:{checkUserData:function(e){return"user_id"in e.user}},actions:{setUserData:function(e){e.commit("setUserData")}}});g.a.defaults.baseURL="http://5.23.54.233:5050",g.a.defaults.withCredentials=!0,o["a"].config.productionTip=!1,new o["a"]({router:F,store:K,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("e332"),r=n.n(o);r.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},e332:function(e,t,n){}});
//# sourceMappingURL=app.d150f454.js.map